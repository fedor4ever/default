<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE SystemDefinition [
<!ENTITY codeline_oss_fcl	"//v800008/builds01/mercurial_development/oss/FCL" >
<!ENTITY codeline_sfl_fcl	"//v800008/builds01/mercurial_development/sfl/FCL" >
<!ENTITY codeline_sfl_mcl	"//v800008/builds01/Mercurial_master_prod/sfl/MCL" >
<!ENTITY cmd_updatebranch	"RCL_1" >
<!ENTITY cmd_clone			"hg clone" >
<!ENTITY cmd_cwdir			"python metacmd.py cwdir" >
<!ENTITY cmd_makedirs		"python metacmd.py makedirs" >
<!ENTITY cmd_perl			"perl" >
<!ENTITY cmd_sisbld			"makesis" >
<!ENTITY cmd_unzip			"7z -y x" >
<!ENTITY cmd_update			"hg update &cmd_updatebranch;" >
<!ENTITY cmd_wget			"wget" >

<!ELEMENT SystemDefinition ( systemModel | layer | package | collection | component)>
<!ATTLIST SystemDefinition
  schema CDATA #REQUIRED
>
<!-- this DTD describes schema="3.0.0" -->

<!-- all relative paths are relative to this file
	all absolute paths are relative to the environment variable specified by the root attribute, or SRCROOT if not.  -->

<!-- Container for metadata
	meta, if present, should always be the first element in the parent
	 -->
<!ELEMENT meta ANY>
<!ATTLIST meta
  href		CDATA #IMPLIED
  type	CDATA "auto"
  rel	CDATA "Generic"
>

<!-- systemModel element has name but no ID -->
<!ELEMENT systemModel (meta*, layer+)>
<!ATTLIST systemModel
  name CDATA #IMPLIED
>

<!-- All items from layer down to component should have either @href or at least one valid child item.
	Anything else will be considered a placeholder
	-->

<!ELEMENT layer (meta*, (package | collection)*)  >
<!ATTLIST layer
  id ID #REQUIRED
  name CDATA #IMPLIED
  href		CDATA #IMPLIED
  levels NMTOKENS #IMPLIED
  span CDATA #IMPLIED
  before NMTOKEN #IMPLIED
>

<!ELEMENT package (meta*,  (package | collection)*)>
 <!-- Nested packages are for backwards compatibility only -->
<!ATTLIST package
  id ID #REQUIRED
  name CDATA #IMPLIED
  version CDATA #IMPLIED
  href	 CDATA #IMPLIED
  levels NMTOKENS #IMPLIED
  span CDATA #IMPLIED
  level NMTOKEN #IMPLIED
  before NMTOKEN #IMPLIED
>

<!ELEMENT collection (meta*, (component* ))>
<!ATTLIST collection
  id ID #REQUIRED
  name CDATA #IMPLIED
  href		CDATA #IMPLIED
  level NMTOKEN #IMPLIED
  before NMTOKEN #IMPLIED
>

<!ELEMENT component (meta*, unit*)>
<!-- contains units or is a placeholder -->
<!ATTLIST component
  id ID #REQUIRED
  name CDATA #IMPLIED
  href		CDATA #IMPLIED
  deprecated CDATA #IMPLIED
  introduced CDATA #IMPLIED
  target  ( device | desktop | other ) "device"
  purpose ( optional | mandatory | development ) "optional"
  class NMTOKENS #IMPLIED
  filter CDATA #IMPLIED
  before NMTOKEN #IMPLIED
  origin-model CDATA #IMPLIED
>
<!--
	"filter" attribute is deprecated
	"origin-model" attribute is only to be inserted by tools when merging models
 	recommended class values are:
		doc, config, plugin, tool, api -->

<!ELEMENT unit EMPTY >
<!ATTLIST unit
  mrp CDATA #IMPLIED
  bldFile CDATA #IMPLIED
  base CDATA #IMPLIED
  root CDATA #IMPLIED
  version NMTOKEN #IMPLIED
  prebuilt NMTOKEN #IMPLIED
  late (yes|no) #IMPLIED
  filter CDATA #IMPLIED
  priority CDATA #IMPLIED
>
<!-- filter and priority are deprecated
	"root" attribute will usually be inserted by tools when merging models, although it can be set manually-->
]>
<SystemDefinition name="Foundation" schema="2.0.1">
	<systemModel>
		<layer name="pre-bld" long-name="Binary Compatability Sync" levels="generic specific">
			<meta type="commands">
				<command cmd="&cmd_makedirs;	interim/fbf/configs" />
				<command cmd="&cmd_makedirs;	sf/app" />
				<command cmd="&cmd_makedirs;	sf/mw" />
				<command cmd="&cmd_makedirs;	sf/os" />
				<command cmd="&cmd_makedirs;	sftools/ana" />
				<command cmd="&cmd_clone;		&codeline_oss_fcl;/interim/fbf/configs/default	interim/fbf/configs/default" />
				<command cmd="&cmd_clone;		&codeline_sfl_fcl;/sf/app/contacts				sf/app/contacts" />
				<command cmd="&cmd_clone;		&codeline_sfl_fcl;/sf/app/messaging				sf/app/messaging" />
				<command cmd="&cmd_clone;		&codeline_sfl_fcl;/sf/mw/appsupport				sf/mw/appsupport" />
				<command cmd="&cmd_clone;		&codeline_sfl_mcl;/sf/mw/drm					sf/mw/drm" />
				<command cmd="&cmd_update;" dir="sf/mw/drm" />
				<command cmd="&cmd_clone;		&codeline_sfl_mcl;/sf/mw/locationsrv			sf/mw/locationsrv" />
				<command cmd="&cmd_update;" dir="sf/mw/locationsrv" />
				<command cmd="&cmd_clone;		&codeline_sfl_mcl;/sf/mw/messagingmw			sf/mw/messagingmw" />
				<command cmd="&cmd_update;" dir="sf/mw/messagingmw" />
				<command cmd="&cmd_clone;		&codeline_sfl_mcl;/sf/mw/mmmw					sf/mw/mmmw" />
				<command cmd="&cmd_update;" dir="sf/mw/mmmw" />
				<command cmd="&cmd_clone;		&codeline_sfl_fcl;/sf/mw/websrv					sf/mw/websrv" />
				<command cmd="&cmd_clone;		&codeline_sfl_fcl;/sf/os/devicesrv				sf/os/devicesrv" />
				<command cmd="&cmd_clone;		&codeline_sfl_mcl;/sf/os/graphics				sf/os/graphics" />
				<command cmd="&cmd_update;" dir="sf/os/graphics" />
				<command cmd="&cmd_clone;		&codeline_sfl_mcl;/sf/os/kernelhwsrv			sf/os/kernelhwsrv" />
				<command cmd="&cmd_update;" dir="sf/os/kernelhwsrv" />
				<command cmd="&cmd_clone;		&codeline_sfl_mcl;/sf/os/mm						sf/os/mm" />
				<command cmd="&cmd_update;" dir="sf/os/mm" />
				<command cmd="&cmd_clone;		&codeline_sfl_mcl;/sf/os/ossrv					sf/os/ossrv" />
				<command cmd="&cmd_update;" dir="sf/os/ossrv" />
				<command cmd="&cmd_clone;		&codeline_sfl_mcl;/sf/os/shortlinksrv			sf/os/shortlinksrv" />
				<command cmd="&cmd_update;" dir="sf/os/shortlinksrv" />
				<command cmd="&cmd_clone;		&codeline_sfl_fcl;/sftools/ana/compatanamdw		sftools/ana/compatanamdw" />
				<command cmd="&cmd_wget;		http://developer.symbian.org/wiki/images/e/e7/Xvid.zip" />
				<command cmd="&cmd_unzip;		xvid.zip" />
				<command cmd="&cmd_perl;		sftools/ana/compatanamdw/apicompatanamdw/bcdrivers/src/bcdrivers/group/SetEnv.pl" />
			</meta>
		</layer>
		<layer name="bld_production" long-name="Binary Compatability Production code build" levels="generic specific">
			<collection name="aspconnectionsis" long-name="50_asp_connection.sis">
				<component id="aspconnection" name="ASP Connection Test">
					<unit bldFile="sf/mw/websrv/websrv_pub/web_service_connection_api/tsrc/bc/connection/group"/>
				</component>
			</collection>
			<collection name="hostconnsis" long-name="50_asp_hostconn.sis">
				<component id="hostconn" name="Hostlet Connection Test">
					<unit bldFile="sf/mw/websrv/websrv_pub/hostlet_connection_api/tsrc/bc/hostconn/group"/>
				</component>
			</collection>
			<collection name="newsoapclassessis" long-name="50_asp_newsoapclasses.sis">
				<component id="newsoapclasses" name="New SOAP Classes Test">
					<unit bldFile="sf/mw/websrv/websrv_pub/web_service_messaging_api/tsrc/bc/newsoapclasses/group"/>
				</component>
			</collection>
			<collection name="favouritesbctestsis" long-name="50_Browser_Favourites.SIS">
				<component id="favouritesbctest" name="Browser Favourites BC Test">
					<unit bldFile="sftools/ana/compatanamdw/apicompatanamdw/bcdrivers/src/bcdrivers/apps/browser/apps/FavouritesBCTest/group"/>
				</component>
			</collection>
			<collection name="downloadmgrbctestsis" long-name="50_Browser_DownloadMgr.SIS">
				<component id="downloadmgrbctest" name="Download Manager BC Test">
					<unit bldFile="sftools/ana/compatanamdw/apicompatanamdw/bcdrivers/src/bcdrivers/apps/browser/apps/DownloadMgrBCTest/group"/>
				</component>	
			</collection>

					<component id="lmksearch" name="Landmark Search Test">
						<unit bldFile="sftools/ana/compatanamdw/apicompatanamdw/bcdrivers/src/bcdrivers/apps/location/apps/LandmarksEngine/landmarks_search_api/group"/>
					</component>
					<component id="lmkdbmgmt" name="Landmark Database Management Test">
						<unit bldFile="sftools/ana/compatanamdw/apicompatanamdw/bcdrivers/src/bcdrivers/apps/location/apps/LandmarksEngine/landmarks_database_management_api/group"/>
					</component>
					<component id="landmarks" name="Landmarks API Test">
						<unit bldFile="sftools/ana/compatanamdw/apicompatanamdw/bcdrivers/src/bcdrivers/apps/location/apps/LandmarksEngine/landmarks_api/group"/>
					</component>

			<collection name="mmsclientmtmsis" long-name="50_Messaging_MMSClientMTM.SIS">
				<component id="mmsclientmtm" name="Messaging MMS Client MTM BC Test">
					<unit bldFile="sf/app/messaging/msg_pub/mms_client_mtm_api/tsrc/bc/group"/>
				</component>
			</collection>

			<collection name="senduiapisis" long-name="50_msg_sendui.sis">
				<component id="sendui" name="Messaging Send UI API BC Test">
					<unit bldFile="sf/mw/messagingmw/msgfw_pub/send_ui_api/tsrc/bc/group"/>
				</component>
			</collection>

			<collection name="pluginbiosis" long-name="50_Messaging_PluginBio.sis">
				<component id="pluginbio" name="Messaging Plugin BIO BC Test">
					<unit bldFile="sf/app/messaging/msg_pub/plugin_bio_control_api/tsrc/bc/group"/>
				</component>
			</collection>

					<component id="drmcaf" name="DRM CAF BC Test">
						<unit bldFile="sf/mw/drm/drm_pub/oma_drm_caf_agent_api/tsrc/bc/group"/>
					</component>

			<collection name="pbkdataaddeditsis" long-name="50_PIM_PbkDataAddEdit.SIS">
				<component id="pbkdataaddedit" name="Phonebook Data Add Edit BC Test">
					<unit bldFile="sf/app/contacts/contacts_pub/phonebook_data_addedit_ui_api/tsrc/bc/group"/>
				</component>
			</collection>

			<collection name="pbkdatamanagementsis" long-name="50_PIM_PbkDataMgmt.SIS">
				<component id="pbkdatamgmt" name="Phonebook Data Management BC Test">
					<unit bldFile="sf/app/contacts/contacts_pub/phonebook_data_management_api/tsrc/bc/group"/>
				</component>
			</collection>

			<collection name="pbkfetchuisis" long-name="50_PIM_PbkFetchAPI.SIS">
				<component id="pbkfetchui" name="Phonebook Fetch UI BC Test">
					<unit bldFile="sf/app/contacts/contacts_pub/phonebook_fetch_ui_api/tsrc/bc/group"/>
				</component>
			</collection>

					<component id="pbkuiutil" name="Phonebook UI Utils BC Test">
						<unit bldFile="sf/app/contacts/contacts_pub/phonebook_ui_utilities_api/tsrc/bc/group"/>
					</component>
					<component id="pbkvcard" name="Phonebook vCard Import Export BC Test">
						<unit bldFile="sf/app/contacts/contacts_pub/phonebook_vcard_importexport_api/tsrc/bc/group"/>
					</component>
					<component id="pbkspeeddial" name="Phonebook Speed Dial BC Test">
						<unit bldFile="sf/app/contacts/contacts_pub/speed_dial_utility_control_api/tsrc/bc/group"/>
					</component>
					<component id="proengwrap" name="Profiles Engine Wrapper Test">
						<unit bldFile="sf/mw/appsupport/appsupport_pub/profiles_engine_wrapper_api/tsrc/BC/ProfilesEngineWrapperAPI/group"/>
					</component>

			<collection name="multimediasvs" long-name="SVS Multimedia API Tests">
				<component id="testfwsrv" name="Multimedia Test Framework Server">
					<unit bldFile="sf/os/mm/mmtestenv/mmtestfw/group"/>
				</component>
			</collection>

			<collection name="systemswsis" long-name="50_systemsw.sis">
				<component id="systemsw" name="System Software">
					<unit bldFile="sftools/ana/compatanamdw/apicompatanamdw/bcdrivers/src/bcdrivers/apps/systemsw/group"/>
				</component>
				<component id="featurediscovery" name="Feature Discovery API">
					<unit bldFile="sf/os/devicesrv/devicesrv_pub/feature_discovery_api/tsrc/bc/featurediscovery/group"/>
				</component>
				<component id="finditem" name="Find Item API">
					<unit bldFile="sf/os/devicesrv/devicesrv_pub/find_item_api/tsrc/bc/finditem/group"/>
				</component>
				<component id="light" name="Light API">
					<unit bldFile="sf/os/devicesrv/devicesrv_pub/light_api/tsrc/bc/light/group"/>
				</component>
				<component id="phoneparser" name="Phone Parser API">
					<unit bldFile="sf/os/devicesrv/devicesrv_pub/phone_parser_api/tsrc/bc/phoneparser/group"/>
				</component>
				<component id="platformenv" name="Platform Environment API">
					<unit bldFile="sf/os/devicesrv/devicesrv_pub/platform_environment_api/tsrc/bc/platformenv/group"/>
				</component>
				<component id="powerstate" name="HW Resource Management Power State API">
					<unit bldFile="sf/os/devicesrv/devicesrv_pub/hwrm_power_state_api/tsrc/bc/powerstate/group"/>
				</component>
				<component id="sysutil" name="System Utilities API">
					<unit bldFile="sf/os/devicesrv/devicesrv_pub/sysutil_api/tsrc/bc/sysutil/group"/>
				</component>
				<component id="textresolver" name="Text Resolver API">
					<unit bldFile="sf/os/devicesrv/devicesrv_pub/text_resolver_api/tsrc/bc/textresolver/group"/>
				</component>
				<component id="vibra" name="Vibra API">
					<unit bldFile="sf/os/devicesrv/devicesrv_pub/vibra_api/tsrc/bc/vibra/group"/>
				</component>
				<component id="platformvertest" name="Platform Version Test">
					<unit bldFile="sf/os/devicesrv/devicesrv_pub/version_info_api/tsrc/bc/platformvertest/group"/>
				</component>
				<component id="accmonapibctests" name="Accessory Monitoring API BC Test">
					<unit bldFile="sf/os/devicesrv/devicesrv_pub/accessory_monitoring_api/tsrc/bc/accmonapibctests/group"/>
				</component>
				<component id="networkstatus" name="Network Status API">
					<unit bldFile="sf/mw/appsupport/appsupport_pub/network_status_api/tsrc/bc/networkstatus/group"/>
				</component>
			</collection>

			<collection name="proengwrapsis" long-name="50_SP_PROENG.SIS">
				<component id="proeng" name="Profile Engine Wrapper">
					<unit bldFile="sf/mw/appsupport/appsupport_pub/profiles_engine_wrapper_api/tsrc/bc/profilesenginewrapperapi/group"/>
				</component>
			</collection>
		</layer>
		<layer name="bld_test" long-name="Binary Compatability Test code build" levels="generic specific">
			<collection name="basesvs" long-name="SVS Base API Tests">
				<component id="basesvs" name="SVS Base API Tests" class="test">
					<unit bldFile="sf/os/kernelhwsrv/baseapitest/basesvs/group"/>
				</component>
			</collection>

			<collection name="graphicssvs" long-name="SVS Graphics API Tests">
				<component id="graphicssvs" name="SVS Graphics API Tests" class="test">
					<unit bldFile="sf/os/graphics/graphicsapitest/graphicssvs/group"/>
				</component>
			</collection>

			<!-- OS Services SVS -->
			<collection name="systemlibrariessvs" long-name="SVS System Libraries API Tests">
				<component id="syslibssvs" name="SysLibs SVS Suite" class="test">
					<unit bldFile="sf/os/ossrv/syslibsapitest/syslibssvs/group"/>
				</component>
			</collection>

			<collection name="multimediasvs" long-name="SVS Multimedia API Tests">
				<component id="mmsvs" name="Multimedia SVS Suite" class="test">
					<unit bldFile="sf/os/mm/mmapitest/mmsvs/suite/group"/>
				</component>
			</collection>
		</layer>
		<layer name="post-bld" long-name="Binary Compatability SIS build" levels="generic specific">
			<meta type="commands">
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_asp_connection.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_asp_hostconn.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_asp_newsoapclasses.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Browser_DownloadMgr.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Browser_Favourites.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_loc_landmarks.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_loc_LmkDBMgmt.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_loc_LmkSearch.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Messaging_MMSClientMTM.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Messaging_PluginBio.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_MM_DRMCAF.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_PIM_PbkDataAddEdit.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_PIM_PbkDataMgmt.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_PIM_PbkFetchAPI.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_PIM_PbkUIUtil.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_PIM_PbkVcard.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_PIM_Spdial.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_SP_PROENG.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Symbian_AudioConvertUtility.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Symbian_AudioInputStream.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Symbian_AudioOutputStream.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Symbian_AudioPlayerUtility.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Symbian_AudioRecorderUtility.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Symbian_Base.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Symbian_Ecom.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_symbian_graphics.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Symbian_ImageDecoder.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Symbian_ImageEncoder.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Symbian_T_Camera.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Symbian_T_MdaAudioToneUtility.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_Symbian_T_MidiClientUtility.pkg" />
				<command cmd="&cmd_sisbld; interim/fbf/configs/default/common/tools/ats/bctest/pkg/50_systemsw.pkg" />
			</meta>
		</layer>
	</systemModel>
</SystemDefinition>
