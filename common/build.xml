<?xml version="1.0" encoding="UTF-8"?>
<project name="SF-COMMON-CONFIG">
	<dirname property="sf.common.config.dir" file="${ant.file.SF-COMMON-CONFIG}"/>

        <!-- import default properties file config -->
        <import file="${sf.common.config.dir}/properties.default.ant.xml"/>        

	<!-- import all core HELIUM targets -->
	<import file="${helium.dir}/helium.ant.xml" />
        
        <!-- import sysdef file location config -->
        <import file="${sf.common.config.dir}/../../build/hg-pkg-build.ant.xml"/>
        
        <!--
        ** TARGET DEFINITIONS
        -->
        
        <target name="sf-build" depends="sf-prep,sf-prebuild,sf-get-source,sf-build-run,sf-postbuild">            
            <echo>[SF-BUILD]</echo>
        </target>
        
        <target name="sf-build-noprep">            
            <echo>[SF-BUILD-NO-PREP]</echo>
        </target>
        
        <target name="sf-prep" depends="check-tool-dependencies, prep-drive,init-build-area,create-bom,log-build-env">
            <echo>[SF-PREP]</echo>   
            <tempfile property="prep.dynamic.config" suffix="ant.xml" destdir="${temp.build.dir}"/>
        </target>
        
      <target name="sf-prebuild"> 
            <echo>[SF-PREBUILD]</echo>                                    
            
            <if>
                <istrue value="${sf.prebuild.getenv}" />
                <then>
                    <runtarget target="preparation-getenv"/>
                </then>
            </if>
            
            <if>
                <istrue value="${sf.prebuild.getsrc}" />
                <then>
                    <runtarget target="sf-get-source"/>
                </then>
            </if>            
            
            
        </target>
        
        <target name="sf-postbuild">            
            <echo>[SF-POSTBUILD]</echo>                        
        </target>        
        
        <target name="sf-build-run" depends="sf-compile">            
            <echo>[SF-BUILD-RUN]</echo>
        </target>

        <target name="sf-compile">
            
                <!--<path id="sf.system.definition.files">
                    <fileset dir="${sf.common.config.dir}/sysdefs" includes="*.sysdef.xml"/>
                    <fileset dir="${build.drive}/sf/app/camera"        includes="*.sysdef.xml"/>
                </path>
                -->
            
            	<!-- target name="compile-main-prebuild" -->
		<antcall target="compile-main" inheritAll="false">
			<param name="build.system" value="sbs" />
			<param name="sysdef.configurations.list" value="s60_build_clean,s60_build" />
			<!--<reference refid="sf.system.definition.files" torefid="system.definition.files" />-->
		</antcall>
            
        </target>


    <target name="sf-get-source">
        <ant antfile="${sf.common.config.dir}/../../build/hg-pkg-build.ant.xml" />
    </target>        
</project>


